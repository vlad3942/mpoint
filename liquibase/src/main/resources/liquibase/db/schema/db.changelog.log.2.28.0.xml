<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
    http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.6.xsd"
    objectQuotingStrategy="QUOTE_ONLY_RESERVED_WORDS">

    <changeSet author="Kalpesh Parikh"
               id="2021-05-21-setup-v2.28-log-1">

        <addColumn catalogName="log"
                   schemaName= "log"
                   tableName="order_tbl" >
            <column name="type"
                    type="int"
                    remarks="type of the product"
                    defaultValue="100" />
        </addColumn>

        <addForeignKeyConstraint
                baseColumnNames="type"
                baseTableCatalogName="log"
                baseTableName="order_tbl"
                baseTableSchemaName="log"
                constraintName="order2producttypeid_fk"
                onDelete="RESTRICT"
                onUpdate="CASCADE"
                referencedColumnNames="id"
                referencedTableCatalogName="system"
                referencedTableName="producttype_tbl"
                referencedTableSchemaName="system" />
    </changeSet>

    <changeSet author="Kalpesh Parikh"
               id="2021-06-04-setup-v2.28-log-2">

        <modifyDataType  catalogName="Log"
                         columnName="description"
                         newDataType="varchar(100)"
                         schemaName="Log"
                         tableName="billing_summary_tbl"/>

        <modifyDataType  catalogName="Log"
                         columnName="product_code"
                         newDataType="varchar(50)"
                         schemaName="Log"
                         tableName="billing_summary_tbl"/>

        <modifyDataType  catalogName="Log"
                         columnName="product_category"
                         newDataType="varchar(50)"
                         schemaName="Log"
                         tableName="billing_summary_tbl"/>
    </changeSet>

    <changeSet author="Priya Alamwar"
               id="2021-07-19-setup-v2.28-log-3">

        <modifyDataType  catalogName="Log"
                         columnName="name"
                         newDataType="varchar(50)"
                         schemaName="Log"
                         tableName="additional_data_tbl"/>

    </changeSet>

    <changeSet author="Sagar Badave" id="2021-08-04-setup-v2.28-log-4">
        <modifyDataType  catalogName="Log" columnName="product_item" newDataType="varchar(100)" schemaName="Log" tableName="billing_summary_tbl"/>
    </changeSet>

</databaseChangeLog>